export function GetLinks(props) {
    const { source, manifest, configurable, configurationRequired, id, configureAtBase } = props;
    const hasContent = source || manifest;

    // Helper functions to modify URLs
    const getConfigureUrl = (url) => configureAtBase ? url.replace(/manifest\.json$/, '') : url.replace(/manifest\.json$/, '') + 'configure';
    const getInstallUrl = (url) => url.replace(/^https:\/\//, 'stremio://');
    const getInstallWebUrl = (url) => `https://web.stremio.com/#/addons?addon=${url}`;

    return (
        <div>
            {hasContent && (
                <>
                    <div className="addon-links-button-container">
                        {manifest && (
                            <div className="addon-links-row">
                                {!configurationRequired && (
                                    <>
                                        <button className="addon-links-button install-button">
                                            <a href={getInstallUrl(manifest)}>‚ûï Install Addon</a>
                                        </button>
                                        <button className="addon-links-button install-web-button">
                                            <a href={getInstallWebUrl(manifest)}>üåê Install to Web</a>
                                        </button>
                                    </>
                                )}
                                {configurable && (
                                    <button className="addon-links-button configure-button">
                                        <a href={getConfigureUrl(manifest)}>‚öôÔ∏è Configure Addon</a>
                                    </button>
                                )}
                            </div>
                        )}
                        {(source || id) && (
                            <div className="addon-links-row">
                                {source && (
                                    <button className="addon-links-button source-code-button">
                                        <a href={source}>üìù Source Code</a>
                                    </button>
                                )}
                                {id && (
                                    <button className="addon-links-button guide-link-button">
                                        <a href={`addons?addon=${id}`} target="_blank">üîó Addon Guide</a>
                                    </button>
                                )}
                            </div>
                        )}
                    </div>
                    <br/>
                    <h3>Description</h3>
                </>
            )}
        </div>
    );
}

{GetLinks(props)}